import{W as d,r as s,j as r,a as t,R as b,c as p}from"./app-c94b149d.js";import{D as x,C as i}from"./column.esm-534095d6.js";import{I as _}from"./inputtext.esm-a242d243.js";import{B as n}from"./button.esm-320d2b12.js";import"./portal.esm-105fa917.js";import"./inputnumber.esm-ef9748de.js";import"./dropdown.esm-31c2bd19.js";import"./csstransition.esm-de611294.js";function D(a){const l=d().props.payments,c=d().props.auth.user.role,[m,u]=s.useState(null),f=s.useRef(null);s.useEffect(()=>{console.log(l)});const h=e=>r(b.Fragment,{children:[t(n,{icon:"pi pi-eye",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>a.editPayment(e)}),c==1&&t(n,{icon:"pi pi-trash",rounded:!0,outlined:!0,severity:"danger",onClick:()=>a.confirmDeleteProduct(e)})]}),P=[{field:"id",header:"ID"},{field:"name",header:"Name"},{field:"email",header:"Email"},{field:"role",header:"Role"}].map(e=>({title:e.header,dataKey:e.field})),g=r("div",{className:"flex flex-wrap gap-2 align-items-center flex-nowrap justify-content-between",children:[r("span",{className:"p-input-icon-left basis-1/4",children:[t("i",{className:"pi pi-search"}),t(_,{type:"search",onInput:e=>u(e.target.value),placeholder:"Search..."})]}),r("div",{className:"flex justify-between basis-3/4",children:[t(n,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:()=>{p(()=>import("./jspdf.es.min-9ba94281.js").then(e=>e.j),["assets/jspdf.es.min-9ba94281.js","assets/app-c94b149d.js","assets/app-771e3699.css"]).then(e=>{p(()=>import("./jspdf.plugin.autotable-81655eb4.js").then(o=>o.j),["assets/jspdf.plugin.autotable-81655eb4.js","assets/app-c94b149d.js","assets/app-771e3699.css","assets/jspdf.es.min-9ba94281.js"]).then(()=>{const o=new e.default(0,0);let y=Math.random();o.autoTable(P,l),o.save("payments"+y+".pdf")})})}}),t(n,{label:"New",icon:"pi pi-plus",className:"p-button-help self-end",onClick:a.openNew})]})]});return r(x,{ref:f,value:l,selection:a.selectedPayments,onSelectionChange:e=>a.setSelectedPayments(e.value),dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} payments",globalFilter:m,header:g,children:[t(i,{field:"order_number",header:"#",sortable:!0,style:{minWidth:"2rem"}}),t(i,{field:"purchase",header:"Purchased Amount",sortable:!0,style:{minWidth:"2rem"}}),t(i,{body:h,exportable:!1,style:{minWidth:"10rem",display:"flex",gap:"0.5rem"}})]})}export{D as default};

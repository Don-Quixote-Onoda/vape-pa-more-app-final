import{r as s}from"./app-8dc48a82.js";import{D as L,O as R,b as Or,d as Be,c as j,R as Fe}from"./portal.esm-b560eca6.js";import{I as Pr}from"./inputtext.esm-231d5aae.js";import{T as Br}from"./button.esm-9b8a4c6a.js";function W(){return W=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var e=arguments[o];for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(i[d]=e[d])}return i},W.apply(this,arguments)}function $(i){return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},$(i)}function Fr(i,o){if($(i)!=="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var d=e.call(i,o||"default");if($(d)!=="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function Er(i){var o=Fr(i,"string");return $(o)==="symbol"?o:String(o)}function Nr(i,o,e){return o=Er(o),o in i?Object.defineProperty(i,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[o]=e,i}function oe(i,o){(o==null||o>i.length)&&(o=i.length);for(var e=0,d=new Array(o);e<o;e++)d[e]=i[e];return d}function Mr(i){if(Array.isArray(i))return oe(i)}function Ar(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Me(i,o){if(i){if(typeof i=="string")return oe(i,o);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return oe(i,o)}}function Kr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ur(i){return Mr(i)||Ar(i)||Me(i)||Kr()}function Tr(i){if(Array.isArray(i))return i}function Lr(i,o){var e=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(e!=null){var d,C,H,A,O=[],f=!0,K=!1;try{if(H=(e=e.call(i)).next,o===0){if(Object(e)!==e)return;f=!1}else for(;!(f=(d=H.call(e)).done)&&(O.push(d.value),O.length!==o);f=!0);}catch(q){K=!0,C=q}finally{try{if(!f&&e.return!=null&&(A=e.return(),Object(A)!==A))return}finally{if(K)throw C}}return O}}function jr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kr(i,o){return Tr(i)||Lr(i,o)||Me(i,o)||jr()}var ee={defaultProps:{__TYPE:"InputNumber",allowEmpty:!0,ariaLabelledBy:null,autoFocus:!1,buttonLayout:"stacked",className:null,currency:void 0,currencyDisplay:void 0,decrementButtonClassName:null,decrementButtonIcon:"pi pi-angle-down",disabled:!1,format:!0,id:null,incrementButtonClassName:null,incrementButtonIcon:"pi pi-angle-up",inputClassName:null,inputId:null,inputMode:null,inputRef:null,inputStyle:null,locale:void 0,localeMatcher:void 0,max:null,maxFractionDigits:void 0,maxLength:null,min:null,minFractionDigits:void 0,mode:"decimal",name:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onValueChange:null,pattern:null,placeholder:null,prefix:null,readOnly:!1,required:!1,showButtons:!1,size:null,step:1,style:null,suffix:null,tabIndex:null,tooltip:null,tooltipOptions:null,type:"text",useGrouping:!0,value:null,children:void 0},getProps:function(o){return R.getMergedProps(o,ee.defaultProps)},getOtherProps:function(o){return R.getDiffProps(o,ee.defaultProps)}};function Ee(i,o){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);o&&(d=d.filter(function(C){return Object.getOwnPropertyDescriptor(i,C).enumerable})),e.push.apply(e,d)}return e}function Ne(i){for(var o=1;o<arguments.length;o++){var e=arguments[o]!=null?arguments[o]:{};o%2?Ee(Object(e),!0).forEach(function(d){Nr(i,d,e[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Ee(Object(e)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(e,d))})}return i}var Vr=s.memo(s.forwardRef(function(i,o){var e=ee.getProps(i),d=s.useState(!1),C=kr(d,2),H=C[0],A=C[1],O=s.useRef(null),f=s.useRef(null),K=s.useRef(null),q=s.useRef(null),re=s.useRef(null),Y=s.useRef(null),J=s.useRef(null),ne=s.useRef(null),te=s.useRef(null),w=s.useRef(null),h=s.useRef(null),x=s.useRef(null),P=s.useRef(null),g=s.useRef(null),k=s.useRef(null),Q=s.useRef(null),ce=s.useRef(null),se=e.showButtons&&e.buttonLayout==="stacked",Ae=e.showButtons&&e.buttonLayout==="horizontal",Ke=e.showButtons&&e.buttonLayout==="vertical",Ue=e.inputMode||(e.mode==="decimal"&&!e.minFractionDigits?"numeric":"decimal"),ae=function(){return{localeMatcher:e.localeMatcher,style:e.mode,currency:e.currency,currencyDisplay:e.currencyDisplay,useGrouping:e.useGrouping,minimumFractionDigits:e.minFractionDigits,maximumFractionDigits:e.maxFractionDigits}},fe=function(){re.current=new Intl.NumberFormat(e.locale,ae());var r=Ur(new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)).reverse(),n=new Map(r.map(function(a,t){return[a,t]}));w.current=new RegExp("[".concat(r.join(""),"]"),"g"),h.current=Le(),x.current=je(),P.current=ke(),g.current=Te(),k.current=Ge(),Q.current=Ve(),ce.current=function(a){return n.get(a)}},pe=function(r){return r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},Te=function(){var r=new Intl.NumberFormat(e.locale,Ne(Ne({},ae()),{},{useGrouping:!1}));return new RegExp("[".concat(r.format(1.1).replace(P.current,"").trim().replace(w.current,""),"]"),"g")},Le=function(){var r=new Intl.NumberFormat(e.locale,{useGrouping:!0});return Y.current=r.format(1e6).trim().replace(w.current,"").charAt(0),new RegExp("[".concat(Y.current,"]"),"g")},je=function(){var r=new Intl.NumberFormat(e.locale,{useGrouping:!1});return new RegExp("[".concat(r.format(-1).trim().replace(w.current,""),"]"),"g")},ke=function(){if(e.currency){var r=new Intl.NumberFormat(e.locale,{style:"currency",currency:e.currency,currencyDisplay:e.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp("[".concat(r.format(1).replace(/\s/g,"").replace(w.current,"").replace(h.current,""),"]"),"g")}return new RegExp("[]","g")},Ve=function(){if(e.prefix)J.current=e.prefix;else{var r=new Intl.NumberFormat(e.locale,{style:e.mode,currency:e.currency,currencyDisplay:e.currencyDisplay});J.current=r.format(1).split("1")[0]}return new RegExp("".concat(pe(J.current||"")),"g")},Ge=function(){if(e.suffix)ne.current=e.suffix;else{var r=new Intl.NumberFormat(e.locale,{style:e.mode,currency:e.currency,currencyDisplay:e.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});ne.current=r.format(1).split("1")[1]}return new RegExp("".concat(pe(ne.current||"")),"g")},B=function(r){if(r!=null){if(r==="-")return r;if(e.format){var n=new Intl.NumberFormat(e.locale,ae()),a=n.format(r);return e.prefix&&(a=e.prefix+a),e.suffix&&(a=a+e.suffix),a}return r.toString()}return""},D=function(r){var n=r.replace(k.current,"").replace(Q.current,"").trim().replace(/\s/g,"").replace(P.current,"").replace(h.current,"").replace(x.current,"-").replace(g.current,".").replace(w.current,ce.current);if(n){if(n==="-")return n;var a=+n;return isNaN(a)?null:a}return null},X=function l(r,n,a){var t=n||500;F(),K.current=setTimeout(function(){l(r,40,a)},t),ue(r,a)},ue=function(r,n){if(f.current){var a=e.step*n,t=D(f.current.value)||0,u=V(t+a);if(e.maxLength&&e.maxLength<B(u).length)return;ye(r,t,u),!L.isTouchDevice()&&xe(u,null,"spin"),G(r,u)}},ze=function(r){!e.disabled&&!e.readOnly&&(e.autoFocus&&L.focus(f.current,e.autoFocus),X(r,null,1),r.preventDefault())},We=function(){!e.disabled&&!e.readOnly&&F()},$e=function(){!e.disabled&&!e.readOnly&&F()},He=function(){!e.disabled&&!e.readOnly&&F()},qe=function(r){!e.disabled&&!e.readOnly&&(r.keyCode===32||r.keyCode===13)&&X(r,null,1)},Ye=function(r){!e.disabled&&!e.readOnly&&(e.autoFocus&&L.focus(f.current,e.autoFocus),X(r,null,-1),r.preventDefault())},Je=function(){!e.disabled&&!e.readOnly&&F()},Qe=function(){!e.disabled&&!e.readOnly&&F()},Xe=function(){!e.disabled&&!e.readOnly&&F()},Ze=function(r){!e.disabled&&!e.readOnly&&(r.keyCode===32||r.keyCode===13)&&X(r,null,-1)},_e=function(r){e.disabled||e.readOnly||(te.current&&(r.target.value=q.current),te.current=!1)},er=function(r){if(!(e.disabled||e.readOnly)){if(q.current=r.target.value,r.shiftKey||r.altKey){te.current=!0;return}var n=r.target.selectionStart,a=r.target.selectionEnd,t=r.target.value,u=null;switch(r.altKey&&r.preventDefault(),r.which){case 38:ue(r,1),r.preventDefault();break;case 40:ue(r,-1),r.preventDefault();break;case 37:S(t.charAt(n-1))||r.preventDefault();break;case 39:S(t.charAt(n))||r.preventDefault();break;case 13:case 9:u=V(D(t)),f.current.value=B(u),f.current.setAttribute("aria-valuenow",u),G(r,u);break;case 8:if(r.preventDefault(),n===a){var p=t.charAt(n-1),c=de(t),y=c.decimalCharIndex,b=c.decimalCharIndexWithoutPrefix;if(S(p)){var E=we(t);if(h.current.test(p))h.current.lastIndex=0,u=t.slice(0,n-2)+t.slice(n-1);else if(g.current.test(p))g.current.lastIndex=0,E?f.current.setSelectionRange(n-1,n-1):u=t.slice(0,n-1)+t.slice(n);else if(y>0&&n>y){var U=me()&&(e.minFractionDigits||0)<E?"":"0";u=t.slice(0,n-1)+U+t.slice(n)}else b===1?(u=t.slice(0,n-1)+"0"+t.slice(n),u=D(u)>0?u:""):u=t.slice(0,n-1)+t.slice(n)}I(r,u,null,"delete-single")}else u=ve(t,n,a),I(r,u,null,"delete-range");break;case 46:if(r.preventDefault(),n===a){var m=t.charAt(n),v=de(t),N=v.decimalCharIndex,T=v.decimalCharIndexWithoutPrefix;if(S(m)){var M=we(t);if(h.current.test(m))h.current.lastIndex=0,u=t.slice(0,n)+t.slice(n+2);else if(g.current.test(m))g.current.lastIndex=0,M?f.current.setSelectionRange(n+1,n+1):u=t.slice(0,n)+t.slice(n+1);else if(N>0&&n>N){var z=me()&&(e.minFractionDigits||0)<M?"":"0";u=t.slice(0,n)+z+t.slice(n+1)}else T===1?(u=t.slice(0,n)+"0"+t.slice(n+1),u=D(u)>0?u:""):u=t.slice(0,n)+t.slice(n+1)}I(r,u,null,"delete-back-single")}else u=ve(t,n,a),I(r,u,null,"delete-range");break}e.onKeyDown&&e.onKeyDown(r)}},rr=function(r){if(!(e.disabled||e.readOnly)){var n=r.which||r.keyCode;n!==13&&r.preventDefault();var a=String.fromCharCode(n),t=ur(a),u=ar(a);(48<=n&&n<=57||u||t)&&ge(r,a,{isDecimalSign:t,isMinusSign:u})}},nr=function(r){if(r.preventDefault(),!(e.disabled||e.readOnly)){var n=(r.clipboardData||window.clipboardData).getData("Text");if(n){var a=D(n);a!=null&&ge(r,a.toString())}}},tr=function(){return e.min===null||e.min<0},ar=function(r){return x.current.test(r)||r==="-"?(x.current.lastIndex=0,!0):!1},ur=function(r){return g.current.test(r)?(g.current.lastIndex=0,!0):!1},me=function(){return e.mode==="decimal"},de=function(r){var n=r.search(g.current);g.current.lastIndex=0;var a=r.replace(Q.current,"").trim().replace(/\s/g,"").replace(P.current,""),t=a.search(g.current);return g.current.lastIndex=0,{decimalCharIndex:n,decimalCharIndexWithoutPrefix:t}},ir=function(r){var n=r.search(g.current);g.current.lastIndex=0;var a=r.search(x.current);x.current.lastIndex=0;var t=r.search(k.current);k.current.lastIndex=0;var u=r.search(P.current);return P.current.lastIndex=0,{decimalCharIndex:n,minusCharIndex:a,suffixCharIndex:t,currencyCharIndex:u}},ge=function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},t=n.search(x.current);if(x.current.lastIndex=0,!(!tr()&&t!==-1)){var u=f.current.selectionStart,p=f.current.selectionEnd,c=f.current.value.trim(),y=ir(c),b=y.decimalCharIndex,E=y.minusCharIndex,U=y.suffixCharIndex,m=y.currencyCharIndex,v;if(a.isMinusSign)u===0&&(v=c,(E===-1||p!==0)&&(v=Z(c,n,0,p)),I(r,v,n,"insert"));else if(a.isDecimalSign)b>0&&u===b?I(r,c,n,"insert"):(b>u&&b<p||b===-1&&e.maxFractionDigits)&&(v=Z(c,n,u,p),I(r,v,n,"insert"));else{var N=re.current.resolvedOptions().maximumFractionDigits,T=u!==p?"range-insert":"insert";if(b>0&&u>b){if(u+n.length-(b+1)<=N){var M=m>=u?m-1:U>=u?U:c.length;v=c.slice(0,u)+n+c.slice(u+n.length,M)+c.slice(M),I(r,v,n,T)}}else v=Z(c,n,u,p),I(r,v,n,T)}}},Z=function(r,n,a,t){var u=n==="."?n:n.split(".");if(u.length===2){var p=r.slice(a,t).search(g.current);return g.current.lastIndex=0,p>0?r.slice(0,a)+B(n)+r.slice(t):r||B(n)}else{if(t-a===r.length)return B(n);if(a===0){var c=R.isLetter(r[t])?t-1:t;return n+r.slice(c)}else return t===r.length?r.slice(0,a)+n:r.slice(0,a)+n+r.slice(t)}},ve=function(r,n,a){var t;return a-n===r.length?t="":n===0?t=r.slice(a):a===r.length?t=r.slice(0,n):t=r.slice(0,n)+r.slice(a),t},_=function(){var r=f.current.selectionStart,n=f.current.value,a=n.length,t=null,u=(J.current||"").length;n=n.replace(Q.current,""),r=r-u;var p=n.charAt(r);if(S(p))return r+u;for(var c=r-1;c>=0;)if(p=n.charAt(c),S(p)){t=c+u;break}else c--;if(t!==null)f.current.setSelectionRange(t+1,t+1);else{for(c=r;c<a;)if(p=n.charAt(c),S(p)){t=c+u;break}else c++;t!==null&&f.current.setSelectionRange(t,t)}return t||0},lr=function(){_()},S=function(r){return r.length===1&&(w.current.test(r)||g.current.test(r)||h.current.test(r)||x.current.test(r))?(or(),!0):!1},or=function(){w.current.lastIndex=0,g.current.lastIndex=0,h.current.lastIndex=0,x.current.lastIndex=0},I=function(r,n,a,t){var u=f.current.value,p=null;n!=null&&(p=ie(D(n)),xe(p,a,t,n),ye(r,u,p))},ie=function(r){return!r&&!e.allowEmpty?e.min||0:r},ye=function(r,n,a){e.onChange&&be(n,a)&&e.onChange({originalEvent:r,value:a})},be=function(r,n){if(n===null&&r!==null)return!0;if(n!=null){var a=typeof r=="string"?D(r):r;return n!==a}return!1},V=function(r){return r==="-"?null:he(r)},he=function(r){return R.isEmpty(r)?null:e.min!==null&&r<e.min?e.min:e.max!==null&&r>e.max?e.max:r},xe=function(r,n,a,t){n=n||"";var u=f.current,p=u.value,c=B(r),y=p.length;if(c!==t&&(c=cr(c,t)),y===0){u.value=c,u.setSelectionRange(0,0);var b=_(),E=b+n.length;u.setSelectionRange(E,E)}else{var U=u.selectionStart,m=u.selectionEnd;if(e.maxLength&&e.maxLength<c.length)return;u.value=c;var v=c.length;if(a==="range-insert"){var N=D((p||"").slice(0,U)),T=N!==null?N.toString():"",M=T.split("").join("(".concat(Y.current,")?")),z=new RegExp(M,"g");z.test(c);var wr=n.split("").join("(".concat(Y.current,")?")),Re=new RegExp(wr,"g");Re.test(c.slice(z.lastIndex)),m=z.lastIndex+Re.lastIndex,u.setSelectionRange(m,m)}else if(v===y)a==="insert"||a==="delete-back-single"?u.setSelectionRange(m+1,m+1):a==="delete-single"?u.setSelectionRange(m-1,m-1):(a==="delete-range"||a==="spin")&&u.setSelectionRange(m,m);else if(a==="delete-back-single"){var Sr=p.charAt(m-1),Rr=p.charAt(m),Ce=y-v,Oe=h.current.test(Rr);Oe&&Ce===1?m+=1:!Oe&&S(Sr)&&(m+=-1*Ce+1),h.current.lastIndex=0,u.setSelectionRange(m,m)}else if(p==="-"&&a==="insert"){u.setSelectionRange(0,0);var Cr=_(),Pe=Cr+n.length+1;u.setSelectionRange(Pe,Pe)}else m=m+(v-y),u.setSelectionRange(m,m)}u.setAttribute("aria-valuenow",r)},Ie=function(r){r=ie(r);var n=f.current,a=n.value,t=De(r);a!==t&&(n.value=t,n.setAttribute("aria-valuenow",r))},De=function(r){return B(ie(r))},cr=function(r,n){if(r&&n){var a=n.search(g.current);return g.current.lastIndex=0,a!==-1?r.split(g.current)[0]+n.slice(a):r}return r},we=function(r){if(r){var n=r.split(g.current);if(n.length===2)return n[1].replace(k.current,"").trim().replace(/\s/g,"").replace(P.current,"").length}return 0},G=function(r,n){e.onValueChange&&e.onValueChange({originalEvent:r,value:n,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:e.id,value:n}})},sr=function(r){if(A(!0),e.onFocus&&e.onFocus(r),(e.suffix||e.currency||e.prefix)&&f.current){var n=_();f.current.setSelectionRange(n,n)}},fr=function(r){if(A(!1),f.current){var n=f.current.value;if(be(n,e.value)){var a=V(D(n));Ie(a),G(r,a)}}e.onBlur&&e.onBlur(r)},F=function(){K.current&&clearInterval(K.current)},Se=function(){Ie(he(e.value));var r=V(e.value);e.value!==null&&e.value!==r&&G(null,r)},pr=function(){return re.current};s.useImperativeHandle(o,function(){return{props:e,focus:function(){return L.focus(f.current)},getFormatter:pr,getElement:function(){return O.current},getInput:function(){return f.current}}}),s.useEffect(function(){R.combinedRefs(f,e.inputRef)},[f,e.inputRef]),Or(function(){fe();var l=V(e.value);e.value!==null&&e.value!==l&&G(null,l)}),Be(function(){fe(),Se()},[e.locale,e.localeMatcher,e.mode,e.currency,e.currencyDisplay,e.useGrouping,e.minFractionDigits,e.maxFractionDigits,e.suffix,e.prefix]),Be(function(){Se()},[e.value]);var mr=function(){var r=j("p-inputnumber-input",e.inputClassName),n=De(e.value);return s.createElement(Pr,W({ref:f,id:e.inputId,style:e.inputStyle,role:"spinbutton",className:r,defaultValue:n,type:e.type,size:e.size,tabIndex:e.tabIndex,inputMode:Ue,maxLength:e.maxLength,disabled:e.disabled,required:e.required,pattern:e.pattern,placeholder:e.placeholder,readOnly:e.readOnly,name:e.name,autoFocus:e.autoFocus,onKeyDown:er,onKeyPress:rr,onInput:_e,onClick:lr,onBlur:fr,onFocus:sr,onPaste:nr,min:e.min,max:e.max,"aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.value},hr,br))},dr=function(){var r=j("p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component",{"p-disabled":e.disabled},e.incrementButtonClassName),n=j("p-button-icon",e.incrementButtonIcon);return s.createElement("button",{type:"button",className:r,onPointerLeave:$e,onPointerDown:ze,onPointerUp:We,onKeyDown:qe,onKeyUp:He,disabled:e.disabled,tabIndex:-1},s.createElement("span",{className:n}),s.createElement(Fe,null))},gr=function(){var r=j("p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component",{"p-disabled":e.disabled},e.decrementButtonClassName),n=j("p-button-icon",e.decrementButtonIcon);return s.createElement("button",{type:"button",className:r,onPointerLeave:Qe,onPointerDown:Ye,onPointerUp:Je,onKeyDown:Ze,onKeyUp:Xe,disabled:e.disabled,tabIndex:-1},s.createElement("span",{className:n}),s.createElement(Fe,null))},vr=function(){var r=e.showButtons&&dr(),n=e.showButtons&&gr();return se?s.createElement("span",{className:"p-inputnumber-button-group"},r,n):s.createElement(s.Fragment,null,r,n)},yr=R.isNotEmpty(e.tooltip),le=ee.getOtherProps(e),br=R.reduceKeys(le,L.DATA_PROPS),hr=R.reduceKeys(le,L.ARIA_PROPS),xr=j("p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":e.value!=null&&e.value.toString().length>0,"p-inputwrapper-focus":H,"p-inputnumber-buttons-stacked":se,"p-inputnumber-buttons-horizontal":Ae,"p-inputnumber-buttons-vertical":Ke},e.className),Ir=mr(),Dr=vr();return s.createElement(s.Fragment,null,s.createElement("span",W({ref:O,id:e.id,className:xr,style:e.style},le),Ir,Dr),yr&&s.createElement(Br,W({target:O,content:e.tooltip},e.tooltipOptions)))}));Vr.displayName="InputNumber";export{Vr as I};

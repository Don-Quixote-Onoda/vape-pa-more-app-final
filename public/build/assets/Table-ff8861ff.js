import{W as d,r as l,a as t,j as i,R as y,c as m}from"./app-8dc48a82.js";import{D as b,C as s}from"./column.esm-5020fa19.js";import{B as o}from"./button.esm-9b8a4c6a.js";import"./portal.esm-b560eca6.js";import"./inputnumber.esm-497debf7.js";import"./inputtext.esm-231d5aae.js";import"./dropdown.esm-77c44df1.js";import"./csstransition.esm-713c79d5.js";function j(a){const n=d().props.payments,p=d().props.auth.user.role,[c,x]=l.useState(null),u=l.useRef(null);l.useEffect(()=>{console.log(n)});const f=e=>i(y.Fragment,{children:[t(o,{icon:"pi pi-eye",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>a.editPayment(e)}),p==1&&t(o,{icon:"pi pi-trash",rounded:!0,outlined:!0,severity:"danger",onClick:()=>a.confirmDeleteProduct(e)})]}),h=[{field:"id",header:"ID"},{field:"name",header:"Name"},{field:"email",header:"Email"},{field:"role",header:"Role"}].map(e=>({title:e.header,dataKey:e.field})),P=t("div",{className:"flex flex-wrap gap-2 align-items-center flex-nowrap justify-content-between",children:i("div",{className:"flex justify-between basis-3/4",children:[t(o,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:()=>{m(()=>import("./jspdf.es.min-bf5b653d.js").then(e=>e.j),["assets/jspdf.es.min-bf5b653d.js","assets/app-8dc48a82.js","assets/app-f786e7d9.css"]).then(e=>{m(()=>import("./jspdf.plugin.autotable-a3777682.js").then(r=>r.j),["assets/jspdf.plugin.autotable-a3777682.js","assets/app-8dc48a82.js","assets/app-f786e7d9.css","assets/jspdf.es.min-bf5b653d.js"]).then(()=>{const r=new e.default(0,0);let g=Math.random();r.autoTable(h,n),r.save("payments"+g+".pdf")})})}}),t(o,{label:"New",icon:"pi pi-plus",className:"p-button-help self-end",onClick:a.openNew})]})});return i(b,{ref:u,value:n,selection:a.selectedPayments,onSelectionChange:e=>a.setSelectedPayments(e.value),dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} payments",globalFilter:c,header:P,children:[t(s,{field:"order_number",header:"#",sortable:!0,style:{minWidth:"2rem"}}),t(s,{field:"purchase",header:"Purchased Amount",sortable:!0,style:{minWidth:"2rem"}}),t(s,{body:f,exportable:!1,style:{minWidth:"10rem",display:"flex",gap:"0.5rem"}})]})}export{j as default};

import{r as w,j as a,R as x,a as o}from"./app-c94b149d.js";import{B as f}from"./button.esm-320d2b12.js";import{I as P}from"./inputnumber.esm-ef9748de.js";import{D as I}from"./dialog.esm-f5d0781d.js";import{D as S}from"./dropdown.esm-31c2bd19.js";import{c as h}from"./portal.esm-105fa917.js";import"./inputtext.esm-a242d243.js";import"./csstransition.esm-de611294.js";function M({products:u,type:g,productDialog:v,product_types:k,setSubmitted:m,setProductDialog:t,submitted:n,product:c,data:e,setData:l,post:d,reset:y,processing:j,errors:D}){const N=w.useRef(null),p=()=>{m(!1),t(!1),l(c)},b=()=>{m(!0),e.quantity&&e.product_id&&e.quantity&&(e.quantity&&e.product_id&&e.quantity&&e.id?d(route("updateProduct"),{forceFormData:!0,onSuccess:()=>{t(!1),l(c)},onError:()=>{}}):d(route("saveInventoryManagement"),{forceFormData:!0,onSuccess:()=>{t(!1),l(c),y(),N.current.show({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})},onError:()=>{}})),console.log(e)},q=a(x.Fragment,{children:[o(f,{label:"Cancel",icon:"pi pi-times",outlined:!0,onClick:p}),o(f,{label:"Save",icon:"pi pi-check",onClick:b})]}),_=(r,i)=>{l(i,r.target.value.id)},C=(r,i)=>{const s=r.value||0;l(i,s)},F=(r,i)=>{const s=r.target.files[0]||"";l(i,s)};return a(I,{visible:v,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:"Product Details",modal:!0,className:"p-fluid",footer:q,onHide:p,children:[g==="default"&&a("div",{className:"field",children:[o("label",{className:"",children:"Product Image"}),o("input",{type:"file",className:"w-full px-4 py-2",label:"Image",name:"product_image",onChange:r=>F(r,"product_image")})]}),a("div",{className:"field mb-5",children:[o("label",{htmlFor:"email",className:"font-bold",children:"Product Name"}),o(S,{value:u.map(r=>{if(e.product_id==r.id)return r.product_name}).filter(String).toString().replaceAll(",",""),onChange:r=>_(r,"product_id"),options:u,optionLabel:"product_name",editable:!0,placeholder:"Select a Product Name",className:`w-full md:w-14rem ${h({"p-invalid":n&&!e.product_id})} `}),n&&!e.product_id&&o("small",{className:"p-error",children:"Product Type is required."})]}),a("div",{className:"field mb-5",children:[o("label",{htmlFor:"price",className:"font-bold",children:"Quantity"}),o(P,{id:"price",value:e.quantity,onChange:r=>C(r,"quantity"),useGrouping:!1,required:!0,autoFocus:!0,className:h({"p-invalid":n&&!e.quantity})}),n&&!e.quantity&&o("small",{className:"p-error",children:"Quantity is required."})]})]})}export{M as default};

import{r as P,j as s,a as t}from"./app-8dc48a82.js";import{B as $}from"./button.esm-9b8a4c6a.js";import{D as _}from"./dialog.esm-ac150d67.js";import F from"./html2canvas.esm-0a33ed42.js";import{E as H}from"./jspdf.es.min-bf5b653d.js";import"./portal.esm-b560eca6.js";import"./csstransition.esm-713c79d5.js";function T({orderDetailDialog:g,setSubmitted:x,setOrderDetailDialog:N,submitted:S,orderDetail:b,data:l,setData:y,post:M,reset:C,processing:L,errors:E,orders:R,setOrders:w}){const p=()=>{x(!1),N(!1),y(b),w([])},r=e=>{const a=parseFloat(e+"").toLocaleString("en-PH",{style:"currency",currency:"PHP"});return t("span",{children:a})},v=()=>{const e=new Date,a=e.toLocaleString("default",{month:"long"}),d=e.getDate(),m=e.getFullYear();e.getHours(),e.getMinutes(),e.getSeconds();const o=`${a} ${d}, ${m}`;let n=window.document.getElementsByClassName("printPDF")[0];console.log(n.offsetLeft),console.log(n.offsetTop),console.log(n.clientWidth),console.log(n.clientHeight),F(n).then(f=>{const i=f.toDataURL("image/png"),c=new H({orientation:"portrait"}),h=c.getImageProperties(i),u=c.internal.pageSize.getWidth(),j=h.height*u/h.width;c.addImage(i,"PNG",0,0,u,j),c.save("Vape Pa More Reciept ("+o+").pdf")}),p()},D=()=>{const e=new Date,a=e.toLocaleString("default",{month:"long"}),d=e.getDate(),m=e.getFullYear();let o=e.getHours();const n=e.getMinutes(),f=e.getSeconds(),i=o>=12?"PM":"AM";return o>12&&(o-=12),`${a} ${d}, ${m} at ${o}:${n}:${f} ${i}`};return P.useEffect(()=>{console.log(l)}),s(_,{visible:g,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:"Payments",modal:!0,className:"p-fluid",onHide:p,children:[s("div",{className:"flex printPDF flex-col pb-2 items-center gap-3 py-5 p-2 px-6 p-10",children:[s("div",{className:"flex flex-col w-full",children:[t("h1",{className:"text-2xl text-center font-bold mb-10",children:"Welcome to Vape Pa More"}),s("d",{className:"flex flex-col justify-between mt-5",children:[s("span",{className:"text text-center flex justify-between",children:[t("span",{className:"font-bold",children:"Order Number"}),t("br",{}),t("span",{className:"",children:l.order_number})]}),s("span",{className:"text text-center flex justify-between",children:[t("span",{className:"font-bold",children:"Date"}),t("br",{}),t("span",{className:"",children:D()})]})]})]}),s("div",{className:"flex flex-col gap-1 mt-5 w-full items-center justify-between",children:[s("header",{className:"flex w-full justify-between",children:[t("h4",{className:"font-bold",children:"Orders"}),t("p",{className:"font-bold",children:"Subtotal"})]}),t("hr",{}),l.orders!==void 0&&s("main",{className:"w-full",children:[l.orders.map((e,a)=>s("div",{children:[s("div",{className:"flex flex-row align-end justify-between",style:{position:"relative"},children:[s("div",{children:[s("p",{className:"",children:[e.product_name," - ",e.product_type!==null&&e.product_type]}),t("p",{className:"",children:e.product_type_name})]}),s("div",{className:"self-end",children:[t("p",{className:"text-end",children:r(e.total_price)}),s("p",{className:"text-end",children:["Qty: ",e.quantity]})]})]}),t("hr",{})]})),s("div",{className:"flex justify-between pt-5 mt-3",children:[t("h4",{className:" font-bold",children:"Total:"}),t("p",{className:"text-end",children:r(l.total_amount)})]})]})]}),s("div",{className:"flex flex-col gap-1 mb-8 w-full items-center justify-between",children:[s("div",{className:"flex w-full justify-between self-start",children:[t("span",{className:"text-md font-bold",children:"Cash Amount"}),t("h1",{children:r(l.cash)})]}),t("hr",{className:"bg-red-900"}),s("div",{className:"flex w-full justify-between self-start",children:[t("span",{className:"text-md font-bold",children:"Change"}),t("h1",{children:r(l.change)})]})]})]}),t($,{style:{"justify-content":"center"},className:"text-center !bg-red-500 !border-0",onClick:()=>v(),children:"Print Reciept"})]})}export{T as default};

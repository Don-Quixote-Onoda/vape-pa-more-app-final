import{r as b,j as c,R as T,a as l}from"./app-c94b149d.js";import{B as h}from"./button.esm-320d2b12.js";import{I as N}from"./inputnumber.esm-ef9748de.js";import{D as P}from"./dialog.esm-f5d0781d.js";import{I as w}from"./inputtext.esm-a242d243.js";import{D as x}from"./dropdown.esm-31c2bd19.js";import{c as n}from"./portal.esm-105fa917.js";import"./csstransition.esm-de611294.js";function Q({type:v,productDialog:g,product_types:K,setSubmitted:m,setProductDialog:t,submitted:s,product:u,data:e,setData:a,post:p,reset:C,processing:k,errors:L}){const S=b.useRef(null),q=[{name:"INSTOCK"},{name:"LOWSTOCK"},{name:"OUTOFSTOCK"}],d=()=>{m(!1),t(!1),a(u)},y=()=>{m(!0),e.price&&e.product_name&&e.product_image&&e.quantity&&e.status&&(e.price&&e.product_name&&e.quantity&&e.status&&e.id?p(route("updateProduct"),{forceFormData:!0,onSuccess:()=>{t(!1),a(u)},onError:()=>{}}):p(route("saveProduct"),{forceFormData:!0,onSuccess:()=>{t(!1),a(u),C(),S.current.show({severity:"success",summary:"Successful",detail:"Product Created",life:3e3})},onError:()=>{}}))},F=c(T.Fragment,{children:[l(h,{label:"Cancel",icon:"pi pi-times",outlined:!0,onClick:d}),l(h,{label:"Save",icon:"pi pi-check",onClick:y})]}),O=(r,o)=>{const i=r.target&&r.target.value||"";a(o,i.name)},f=(r,o)=>{const i=r.value||0;a(o,i)},_=(r,o)=>{const i=r.target.files[0]||"";a(o,i)},I=(r,o)=>{const i=r.target&&r.target.value||"";a(o,i)};return c(P,{visible:g,style:{width:"32rem"},breakpoints:{"960px":"75vw","641px":"90vw"},header:"Product Details",modal:!0,className:"p-fluid",footer:F,onHide:d,children:[v==="default"&&c("div",{className:"field",children:[l("label",{className:"",children:"Product Image"}),l("input",{type:"file",className:`w-full px-4 py-2 ${n({"p-invalid":s&&!e.product_image})}`,label:"Image",name:"product_image",onChange:r=>_(r,"product_image")}),s&&!e.product_image&&l("small",{className:"p-error",children:"Product Image is required."})]}),c("div",{className:"field",children:[l("label",{htmlFor:"firstname",className:"font-bold",children:"Product Name"}),l(w,{id:"product_name",value:e.product_name,onChange:r=>I(r,"product_name"),required:!0,autoFocus:!0,className:n({"p-invalid":s&&!e.product_name})}),s&&!e.product_name&&l("small",{className:"p-error",children:"Product Name is required."})]}),c("div",{className:"field mb-5",children:[l("label",{htmlFor:"price",className:"font-bold",children:"Price"}),l(N,{id:"price",value:e.price,onChange:r=>f(r,"price"),useGrouping:!1,required:!0,autoFocus:!0,className:n({"p-invalid":s&&!e.price})}),s&&!e.price&&l("small",{className:"p-error",children:"Price is required."})]}),c("div",{className:"field mb-5",children:[l("label",{htmlFor:"price",className:"font-bold",children:"Quantity"}),l(N,{id:"quantity",value:e.quantity,onChange:r=>f(r,"quantity"),useGrouping:!1,required:!0,autoFocus:!0,className:n({"p-invalid":s&&!e.quantity})}),s&&!e.quantity&&l("small",{className:"p-error",children:"Quantity is required."})]}),c("div",{className:"field mb-5",children:[l("label",{htmlFor:"email",className:"font-bold",children:"Status"}),l(x,{value:e.status=="INSTOCK"?"INSTOCK":e.status=="LOWSTOCK"?"LOWSTOCK":"OUTOFSTOCK",onChange:r=>O(r,"status"),options:q,optionLabel:"name",editable:!0,placeholder:"Select a Status",className:`w-full md:w-14rem ${n({"p-invalid":s&&!e.status})} `}),s&&!e.status&&l("small",{className:"p-error",children:"Status is required."})]})]})}export{Q as default};

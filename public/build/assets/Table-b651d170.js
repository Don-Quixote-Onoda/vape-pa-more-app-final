import{W as d,r as l,j as a,a as t,R as N,c}from"./app-c94b149d.js";import{D as O,C as r}from"./column.esm-534095d6.js";import{I as R}from"./inputtext.esm-a242d243.js";import{B as s}from"./button.esm-320d2b12.js";import"./portal.esm-105fa917.js";import"./inputnumber.esm-ef9748de.js";import"./dropdown.esm-31c2bd19.js";import"./csstransition.esm-de611294.js";function Q(o){const n=d().props.orders,u=d().props.auth.user.role,[m,p]=l.useState(null),h=l.useRef(null),[f,y]=l.useState("id"),[g,b]=l.useState(-1),P=e=>{y(e.sortField),b(e.sortOrder)},_=e=>t("img",{src:`http://127.0.0.1:8000/uploads/products/${e.product_image}`,alt:e.image,className:"shadow-2 border-round",style:{width:"64px"}}),x=e=>a(N.Fragment,{children:[t(s,{icon:"pi pi-eye",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>o.editOrder(e)}),u==1&&t(s,{icon:"pi pi-trash",rounded:!0,outlined:!0,severity:"danger",onClick:()=>o.confirmDeleteOrder(e)})]}),S=[{field:"id",header:"ID"},{field:"name",header:"Name"},{field:"email",header:"Email"},{field:"role",header:"Role"}].map(e=>({title:e.header,dataKey:e.field})),T=a("div",{className:"flex flex-wrap gap-2 align-items-center flex-nowrap justify-content-between",children:[a("span",{className:"p-input-icon-left basis-1/4",children:[t("i",{className:"pi pi-search"}),t(R,{type:"search",onInput:e=>p(e.target.value),placeholder:"Search..."})]}),t("div",{className:"flex gap-3 justify-between basis-3/4",children:t(s,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:()=>{c(()=>import("./jspdf.es.min-9ba94281.js").then(e=>e.j),["assets/jspdf.es.min-9ba94281.js","assets/app-c94b149d.js","assets/app-771e3699.css"]).then(e=>{c(()=>import("./jspdf.plugin.autotable-81655eb4.js").then(i=>i.j),["assets/jspdf.plugin.autotable-81655eb4.js","assets/app-c94b149d.js","assets/app-771e3699.css","assets/jspdf.es.min-9ba94281.js"]).then(()=>{const i=new e.default(0,0);let L=Math.random();i.autoTable(S,n),i.save("orders"+L+".pdf")})})}})})]}),v=e=>a("span",{children:[" ",e.price.toLocaleString("en-PH",{style:"currency",currency:"PHP"})]}),w=e=>a("span",{children:[" ",e.total_price.toLocaleString("en-PH",{style:"currency",currency:"PHP"})]});return a(O,{ref:h,value:n,selection:o.selectedOrders,onSelectionChange:e=>o.setSelectedOrders(e.value),dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} orders",globalFilter:m,header:T,sortField:f,sortOrder:g,onSort:P,children:[t(r,{field:"order_number",header:"#",sortable:!0,style:{minWidth:"2rem"}}),t(r,{field:"product_image",header:"Image",body:_}),t(r,{field:"product_name",header:"Product Name",sortable:!0,style:{minWidth:"2rem"}}),t(r,{field:"price",header:"Price",sortable:!0,style:{minWidth:"2rem"},body:v}),t(r,{field:"quantity",header:"Quantity",sortable:!0,style:{minWidth:"2rem"}}),t(r,{field:"product_type_name",header:"Quantity",sortable:!0,style:{minWidth:"2rem"}}),t(r,{field:"product_type",header:"Quantity",sortable:!0,style:{minWidth:"2rem"}}),t(r,{field:"total_price",header:"Total Price",sortable:!0,style:{minWidth:"2rem"},body:w}),t(r,{body:x,exportable:!1,style:{minWidth:"10rem",display:"flex",gap:"0.5rem"}})]})}export{Q as default};

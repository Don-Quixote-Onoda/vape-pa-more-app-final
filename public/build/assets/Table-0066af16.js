import{W as c,r,j as a,a as t,R as N,c as u}from"./app-c94b149d.js";import{D as L,C as l}from"./column.esm-534095d6.js";import{I as O}from"./inputtext.esm-a242d243.js";import{B as i}from"./button.esm-320d2b12.js";import"./portal.esm-105fa917.js";import"./inputnumber.esm-ef9748de.js";import"./dropdown.esm-31c2bd19.js";import"./csstransition.esm-de611294.js";function z(o){const s=c().props.orderdetails,m=c().props.auth.user.role,[p,f]=r.useState(null),h=r.useRef(null),[y,g]=r.useState("id"),[b,P]=r.useState(-1);r.useEffect(()=>{console.log(s)});const x=e=>{g(e.sortField),P(e.sortOrder)},D=e=>a(N.Fragment,{children:[t(i,{icon:"pi pi-eye",rounded:!0,outlined:!0,className:"mr-2",onClick:()=>o.editOrderDetail(e)}),m==1&&t(i,{icon:"pi pi-trash",rounded:!0,outlined:!0,severity:"danger",onClick:()=>o.confirmDeleteOrderDetail(e)})]}),_=e=>t("span",{style:{textTransform:"capitalize"},children:e.user.name}),S=e=>{const d=new Date(e.transaction_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return t("span",{style:{textTransform:"capitalize"},children:d})},T=[{field:"id",header:"ID"},{field:"name",header:"Name"},{field:"email",header:"Email"},{field:"role",header:"Role"}].map(e=>({title:e.header,dataKey:e.field})),w=a("div",{className:"flex flex-wrap gap-2 align-items-center flex-nowrap justify-content-between",children:[a("span",{className:"p-input-icon-left basis-1/4",children:[t("i",{className:"pi pi-search"}),t(O,{type:"search",onInput:e=>f(e.target.value),placeholder:"Search..."})]}),a("div",{className:"flex gap-3 justify-between basis-3/4",children:[t(i,{label:"Export",icon:"pi pi-upload",className:"p-button-help",onClick:()=>{u(()=>import("./jspdf.es.min-9ba94281.js").then(e=>e.j),["assets/jspdf.es.min-9ba94281.js","assets/app-c94b149d.js","assets/app-771e3699.css"]).then(e=>{u(()=>import("./jspdf.plugin.autotable-81655eb4.js").then(n=>n.j),["assets/jspdf.plugin.autotable-81655eb4.js","assets/app-c94b149d.js","assets/app-771e3699.css","assets/jspdf.es.min-9ba94281.js"]).then(()=>{const n=new e.default(0,0);let d=Math.random();n.autoTable(T,s),n.save("orderDetails"+d+".pdf")})})}}),t(i,{label:"New",icon:"pi pi-plus",className:"p-button-help self-end",onClick:o.openNew})]})]});r.useEffect(()=>{console.log(s)});const v=e=>a("span",{children:[" ",e.total_amount.toLocaleString("en-PH",{style:"currency",currency:"PHP"})]});return a(L,{ref:h,value:s,selection:o.selectedOrderDetails,onSelectionChange:e=>o.setSelectedOrderDetails(e.value),dataKey:"id",paginator:!0,rows:10,rowsPerPageOptions:[5,10,25],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} orderDetails",globalFilter:p,header:w,sortField:y,sortOrder:b,onSort:x,children:[t(l,{field:"order_number",header:"#",sortable:!0,style:{minWidth:"2rem"}}),t(l,{field:"total_amount",header:"Total Amount",sortable:!0,style:{minWidth:"2rem"},body:v}),t(l,{field:"change",header:"User",sortable:!0,style:{minWidth:"2rem"},body:_}),t(l,{field:"transaction_date",header:"Date of Transaction",sortable:!0,style:{minWidth:"2rem"},body:S}),t(l,{body:D,exportable:!1,style:{minWidth:"10rem",display:"flex",gap:"0.5rem"}})]})}export{z as default};
